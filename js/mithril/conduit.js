"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Map"===(t="Object"===t&&r.constructor?r.constructor.name:t)||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,a=new Array(e);t<e;t++)a[t]=r[t];return a}function _iterableToArrayLimit(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var a,n,o=[],i=!0,l=!1;try{for(t=t.call(r);!(i=(a=t.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(r){l=!0,n=r}finally{try{i||null==t.return||t.return()}finally{if(l)throw n}}return o}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(r,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(r,a.key,a)}}function _createClass(r,e,t){return e&&_defineProperties(r.prototype,e),t&&_defineProperties(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}var conduitEvents=require("../module/conduit-events");module.exports=function(){function o(r){_classCallCheck(this,o);r=r.attrs;if(this.label=r["data-label"],this.topic=r["data-topic"],r["data-payload"])this.payload=r["data-payload"];else{this.payload={};for(var e=0,t=Object.entries(r);e<t.length;e++){var a=_slicedToArray(t[e],2),n=a[0],a=a[1],n=n.match(/^data-payload-(.*)/);n&&(n=n[1].replace(/-./g,function(r){return r.toUpperCase()}),this.payload[n]=a)}}}return _createClass(o,[{key:"view",value:function(){var r=this;return m("button",{onclick:function(){conduitEvents.emit(r.topic,r.payload)}},this.label)}}]),o}();