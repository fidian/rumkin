"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _createForOfIteratorHelper(t,e){var r,n,o,a,i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){n=!0,o=t},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw o}}};if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length)return i&&(t=i),a=0,{s:e=function(){},n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var r;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0===r)return("string"===e?String:Number)(t);r=r.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}module.exports=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"findMaximum",value:function(t,e){var r,n=Number.NEGATIVE_INFINITY,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var a=r.value;a[t]>n&&(n=a[t])}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"findMaximums",value:function(t,e){var r,n=new Map,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.barChart&&n.set(a.property,this.findMaximum(a.property,e))}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"view",value:function(t){var e=t.attrs.columns,t=t.attrs.data,r=this.findMaximums(e,t);return m("table",[this.viewHeader(e),this.viewData(e,t,r)])}},{key:"viewHeader",value:function(t){return m("tr",t.map(function(t){return m("th",t.label)}))}},{key:"viewData",value:function(t,e,n){var o=this;return e.map(function(r){return m("tr",t.map(function(t){var e=t.property;return t.barChart?m("td",{valign:"center"},o.viewBar(r[e],n.get(e))):(t=Object.assign({width:"1%"},t.attrs||{}),m("td",t,o.viewSingleDataPoint(r[e])))}))})}},{key:"viewBar",value:function(t,e){return m("div",{class:"Bgc(blue) H(0.8em)",style:"width: ".concat((100*t/e).toFixed(2),"%")})}},{key:"viewSingleDataPoint",value:function(t){return"number"==typeof t?t.toLocaleString():t}}]),t}();