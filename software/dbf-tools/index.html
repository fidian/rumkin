<!DOCTYPE html><html lang=en class="H(100%) Ovy(h)"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>DBF Tools</title><link rel=stylesheet href=../../css/reset.css?1666655523423><link rel=stylesheet href=../../css/atomic.css?1666655523423><link rel=stylesheet href=../../css/fonts.css?1666655523423><link rel=stylesheet href=../../css/site.css?1666655523423><link rel=apple-touch-icon sizes=180x180 href=../../img/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../img/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../img/favicon/favicon-16x16.png><link rel=manifest href=../../img/favicon/manifest.json><link rel=mask-icon href=../../img/favicon/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=../../img/favicon/favicon.ico><meta name=msapplication-config content=../../img/favicon/browserconfig.xml><meta name=theme-color content=#ffffff><link rel=license href=../../license><script async src="https://www.googletagmanager.com/gtag/js?id=G-H1S197ZSNH"></script><script>window.dataLayer = window.dataLayer || [];
function gtag() { dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'G-H1S197ZSNH');</script></head><body class="H(100%) Ovx(h) Bgc(pageBorderBackground) Bgc(t)--p"><div class="Maw(1002px) H(100%) W(100%) D(f) Fxd(c) Maw(100%)--p Mx(a) Mx(0)--p"><nav class="Bgc(barBackground) Bgc(t)--p Pos(a) Pos(s)--p T(0) Start(0) End(0) Bdbw(1px) Bdc(barBorder) H(50px) C(barText) C(black)--p Px(10px) Z(1)"><div class="W(100%) D(f) H(100%) Jc(sb) Ai(c) Ov(h)"><div class="D(f) Whs(nw) Ai(c) Fxs(1) Ov(h) Pend(12px)"><a class="C(barText) C(black)--p Fz(1.4em) Fw(b) Tov(e) Ov(h) Fxs(1) Td(n)--p Tov(e) D(b)" href=../../ >Rumkin.com </a><span class="Px(0.3em) Fxs(0)">&gt;</span> <a class="C(barText) C(black)--p Fz(1.4em) Fw(b) Tov(e) Ov(h) Fxs(0) Td(n)--p Tov(e) D(b)" href=../ >Software Projects</a></div></div></nav><div class="Bgc(pageBackground) Bgc(t)--p Fxg(1)"><div class="Mt(50px) Mt(0)--p C(textColorNormal) P(10px)"><div class="Mx(a) W(100%) Maw(contentWidthMax) Maw(100%)--p D(f) Px(10px) Pstart(0)"><main class="D(tbc) Va(t) W(100%)"><header><h1>DBF Tools</h1><div class=Px(20px)><div class="Bgc(#c5e0f9) Bgc(t)--p Fs(i) Py(4px) Px(8px)">Some utilities I whipped up to boil down a `.dbf` file by aggregating the records and another to concatenate multiple database files together.</div></div></header><div class=contents><p>At one point I dealt with <code>.dbf</code> files. A lot of them. In order to process them faster, I wrote a couple tools that others may enjoy. They are GPL v3 and I don&#39;t support them any longer.</p><h2 id=dbfagg><code>dbfagg</code></h2><p><strong>Download:</strong> <a href=dbfagg.zip>dbfagg.zip</a></p><p>This program&#39;s mission in life is to aggregate data so you have fewer records to parse. It can sum, produce an average, and do much more. You pass it the input file (or it can read from standard input), the name of the script to use, and the result database file that should be created.</p><p>The magic is primarily in the script file. You list the different fields in the result <code>.dbf</code> file, and only certain data types are allowed for some functions. The script file is not case sensitive. It also does not do a lot of checking of output field names, so make sure to not use the same name twice in your results.</p><h3 id=available-functions>Available Functions</h3><p>This list is a complete list of functions that you can use in your script file. The function name is followed by what data types it works with (<em>C</em> means it works with character fields, <em>N</em> means the function works with numeric fields). For more information, see the <code>scripts.txt</code> file in the archive.</p><h4 id=key-c-n><code>KEY</code> (C, N)</h4><p>When any key field changes, one record is written to the results. For best results, you will want your key fields grouped together in the database. You must have at least one <code>KEY</code> in your script. All of the other functions are optional.</p><h4 id=subkey-c-n><code>SUBKEY</code> (C, N)</h4><p>This acts like another grouping, similar to key, but the groups are not written out to disk when a <code>SUBKEY</code> changes. The information just keeps gathering until a <code>KEY</code> field changes. Multiple <code>SUBKEYS</code> are allowed.</p><h4 id=max-n><code>MAX</code> (N)</h4><p>Stores the largest value encountered for the group. Numeric fields only.</p><h4 id=min-n><code>MIN</code> (N)</h4><p>Stores the smallest value encountered for the group. Numeric fields only.</p><h4 id=sum-n><code>SUM</code> (N)</h4><p>Stores the summed values for the group. Numeric fields only.</p><h4 id=avg-n><code>AVG</code> (N)</h4><p>Stores the median value (summed values divided by the number of values). This works only with numeric fields.</p><h4 id=mode-c-n><code>MODE</code> (C, N)</h4><p>Stores the value that was encountered the most times in the group.</p><h4 id=count><code>COUNT</code></h4><p>Returns the number of records that were grouped together as a new field in the resulting table. Creates a N(9) field, so have no more than 999,999,999 records in a single group (but you can specify a different size if you like).</p><h3 id=about-aggregation>About Aggregation</h3><p>The aggregation process can rename and resize fields. Each line in the script file should follow one of these formats:</p><pre><code>FUNC_NAME INPUT_FIELD
FUNC_NAME INPUT_FIELD OUTPUT_FIELD
FUNC_NAME INPUT_FIELD OUTPUT_FIELD OUTPUT_FIELD_LEN
FUNC_NAME INPUT_FIELD OUTPUT_FIELD OUTPUT_FIELD_LEN OUTPUT_FIELD_PREC
</code></pre><h4 id=func_name><code>FUNC_NAME</code></h4><p>The name of the function, as detailed above.</p><h4 id=input_field><code>INPUT_FIELD</code></h4><p>The name of the field in the input table.</p><h4 id=output_field-optional><code>OUTPUT_FIELD</code> (optional)</h4><p>The name that the resulting field should be called in the output file. If not specified, it defaults to <code>INPUT_FIELD</code>.</p><h4 id=output_field_len><code>OUTPUT_FIELD_LEN</code></h4><p>The size the field should be in the resulting table. If you are summing values and you might need more digits, you should specify this value.</p><h4 id=output_field_prec><code>OUTPUT_FIELD_PREC</code></h4><p>The new precision of the output field. Useful for averaging and showing additional digits. If you make <code>OUTPUT_FIELD_PREC</code> larger, you should probably make <code>OUTPUT_FIELD_LEN</code> longer as well. Only use this with numeric fields.</p><h2 id=dbfcat><code>dbfcat</code></h2><p><strong>Download:</strong> <a href=dbfcat.zip>dbfcat.zip</a></p><p>I had to aggregate several databases. They were so large that they were first broken into chunks, then aggregated. The down side is that I didn&#39;t have a tool to combine them together for further aggregation. That is, I didn&#39;t have a tool until I wrote <code>dbfcat</code>.</p><p><code>dbfcat</code> will open and read several <code>.dbf</code> files and write out a single, combined <code>.dbf</code> file. You can easily go beyond the 2 gb limit that lots of <code>.dbf</code> software has, so keep that in mind.</p><p><code>dbfcat</code> is also linked against libz, letting you read directly from a gzipped <code>.dbf</code> file (<code>*.dbf.gz</code>), saving you disk space and actually speeding up the process. It&#39;s faster because you are not waiting for the disk reads and potentially the network traffic in order to get the information.</p><p>The merged <code>.dbf</code> file is written to stdout, so you can pipe that into a file or into gzip to recompress it and save the file somewhere.</p><h2 id=dbfcut><code>dbfcut</code></h2><p><strong>Download:</strong> <a href=dbfcut.zip>dbfcut.zip</a></p><p>Split a large <code>.dbf</code> file into smaller portions. This takes a file that is over 2 gigabytes (which is amazingly difficult for some software to open) and chunks it into files that are roughly 1 gigabyte in size.</p><p><code>dbfcut</code> is also linked against libz, letting you read directly from a gzipped <code>.dbf</code> file (<code>*.dbf.gz</code>), saving you disk space and actually speeding up the process. It&#39;s faster because you are not waiting for the disk reads and potentially the network traffic in order to get the information.</p><p>The output files are named <code>out0000.dbf</code>, <code>out0001.dbf</code>, etc.</p><h2 id=dbffix><code>dbffix</code></h2><p><strong>Download:</strong> <a href=dbffix.zip>dbffix.zip</a></p><p>Corrects the file header to list the real amount of records in a file. Useful if you need to recover a file and you have the beginning or most of a file but it stops abruptly.</p><h2 id=dbfstats><code>dbfstats</code></h2><p><strong>Download:</strong> <a href=dbfstats.zip>dbfstats.zip</a></p><p>Calculate a table of statistics that relate to the contents of a <code>.dbf</code> file. You can use this to get a field-by-field summary of the contents of the data. I used this a lot to determine date ranges and other groupings when I didn&#39;t know where a file originated.</p></div></main></div></div></div><footer class="Bgc(barBackground) Bgc(t)--p Bdtw(1px) Bdc(barBorder) C(barText) C(black)--p P(10px) D(f) Fxd(c)--p Jc(sb)"><div class=Fz(0.8em)>&copy; Copyright 2022 Tyler Akins &lt;<a class="Td(n)--p C(barText) C(black)--p" href=mailto:fidian@rumkin.com>fidian@rumkin.com</a>&gt;, last build 2022-10-24T23:52:03.423Z</div><div><a class="D(n)--p Fz(0.8em) C(barText)" href=../../license/ >License</a> | <a class="D(n)--p Fz(0.8em) C(barText)" href=../../reference/site/legal/ >Legal</a> <a class="D(n) D(b)--p Td(n) Fz(0.8em)" href=../../license/ >Site content licensed under a MIT license with a non-advertising clause</a></div></footer></div></body></html>