"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Psr=require("psr");module.exports=function(){function t(e){_classCallCheck(this,t),this.loaded=!1,this.loading=!1,this.error=!1,this.sample="",this.show=!1,this.args=e}return _createClass(t,[{key:"generate",value:function(){this.loading||this.error||(this.sample=this.psr.generate())}},{key:"loadData",value:function(){var t=this;this.loading=!0,m.request({extract:function(e){return e.responseText},url:this.args.attrs["psr-sample"]}).then(function(e){t.loading=!1,t.loaded=!0,t.psr=new Psr(e),t.generate()},function(){t.loading=!1,t.error=!0})}},{key:"toggleShow",value:function(){this.show=!this.show,this.loaded||this.loading||this.error||this.loadData()}},{key:"view",value:function(){var e=this,t={class:"output"};return this.show?this.loading?m("div",t,"Loading rules"):this.error?m("div",t,"Error loading rules"):[m("div",[m("button",{type:"button",onclick:function(){return e.generate()}},"Generate Again"),m("button",{type:"button",onclick:function(){return e.toggleShow()}},"Hide Sample")]),m("div",t,this.sample)]:m("button",{type:"button",onclick:function(){return e.toggleShow()}},"Generate Samples")}}]),t}();