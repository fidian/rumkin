<!DOCTYPE html><html lang=en class="H(100%) Ovy(h)"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Tape Tools</title><script src=../../js/acss-live.js></script><link rel=stylesheet href=../../css/reset.css?1674514886265><link rel=stylesheet href=../../css/fonts.css?1674514886265><link rel=stylesheet href=../../css/site.css?1674514886265><link rel=apple-touch-icon sizes=180x180 href=../../img/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../img/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../img/favicon/favicon-16x16.png><link rel=manifest href=../../img/favicon/manifest.json><link rel=mask-icon href=../../img/favicon/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=../../img/favicon/favicon.ico><meta name=msapplication-config content=../../img/favicon/browserconfig.xml><meta name=theme-color content=#ffffff><link rel=license href=../../license><script async src="https://www.googletagmanager.com/gtag/js?id=G-H1S197ZSNH"></script><script>window.dataLayer = window.dataLayer || [];
function gtag() { dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'G-H1S197ZSNH');</script></head><body class="H(100%) Ovx(h) Bgc(pageBorderBackground) Bgc(t)--p"><div class="Maw(1002px) H(100%) W(100%) D(f) Fxd(c) Maw(100%)--p Mx(a) Mx(0)--p"><nav class="Bgc(barBackground) Bgc(t)--p Pos(a) Pos(s)--p T(0) Start(0) End(0) Bdbw(1px) Bdc(barBorder) H(50px) C(barText) C(black)--p Px(10px) Z(1)"><div class="W(100%) D(f) H(100%) Jc(sb) Ai(c) Ov(h)"><div class="D(f) Whs(nw) Ai(c) Fxs(1) Ov(h) Pend(12px)"><a class="C(barText) C(black)--p Fz(1.4em) Fw(b) Tov(e) Ov(h) Fxs(1) Td(n)--p Tov(e) D(b)" href=../../ >Rumkin.com </a><span class="Px(0.3em) Fxs(0)">&gt;</span> <a class="C(barText) C(black)--p Fz(1.4em) Fw(b) Tov(e) Ov(h) Fxs(0) Td(n)--p Tov(e) D(b)" href=../ >Software Projects</a></div></div></nav><div class="Bgc(pageBackground) Bgc(t)--p Fxg(1)"><div class="Mt(50px) Mt(0)--p C(textColorNormal) P(10px)"><div class="Mx(a) W(100%) Maw(contentWidthMax) Maw(100%)--p D(f) Px(10px) Pstart(0)"><main class="D(tbc) Va(t) W(100%)"><header><h1>Tape Tools</h1><div class=Px(20px)><div class="Bgc(#c5e0f9) Bgc(t)--p Fs(i) Py(4px) Px(8px)">C programs designed to get data off of tapes from a Linux system. Especially geared for 3480/3490 tapes.</div></div></header><div class=contents><p>In the June 2002 issue of <a href=http://linuxjournal.org/ >Linux Journal</a>, Craig Johnson asked about <a href=http://www.linuxjournal.com/article/5972>getting data off of tapes</a>. It is mentioned in his question that there is not a lot of help out there for reading data off of tapes. Hopefully this will help out those select few who need to do this.</p><p>These tools are placed into the public domain. Do with them what you will.</p><h2 id=preparation>Preparation</h2><p>This is a Linux-centric document. If you don&#39;t run Linux, you may not get a lot of information out of it. I used <a href=http://debian.org/ >Debian</a> as my distribution of choice. My tape readers are at <code>/dev/st0</code>. Yours may vary.</p><h2 id=getting-it-to-work>Getting It To Work</h2><p>Before you start, make sure you load the right modules for the job. For my two tape readers, I first load the SCSI card driver (<code>aic7xxx</code>) and the SCSI Tape driver (<code>st</code>). See <code>man insmod</code> and <code>man lsmod</code> for more information. If you don&#39;t have them compiled as modules, you will either need to recompile them as modules or you&#39;ll need to just compile them into the kernel. I like the module idea.</p><p>When you boot or when you load the modules, you should see that the tape drive has been located. If not, try a different driver or a different card. Make sure you can see it before continuing on.</p><h2 id=testing>Testing</h2><p>I installed the <code>mt-st</code> package so I could get the magnetic tools package that is compiled with SCSI Tape support. I then inserted a tape into the reader and issued <code>mt eject</code>. Well, then I issued <code>mt -f /dev/st0 eject</code> and then it worked. This experiment proves to me that the tape reader is working.</p><h2 id=reading-data>Reading Data</h2><p>I quickly found out that the tapes that I was using (3480 and 3490 tapes, written by an IBM mainframe of some sort) were not just <code>tar</code> dumps. All of the documentation I found at <a href=https://google.com>Google</a> was basically useless. I needed to read the tape data directly. After days of searching, I found the holy grail of tape reading software, Fermi Tape Tools Library. Now, it didn&#39;t recognize my EBCDIC written tapes, but that&#39;s a minor thing to convert.</p><p>Fermi Tape Tools Library is available at two places: <a href=http://www.fnal.gov/docs/products/ftt>http://www.fnal.gov/docs/products/ftt</a> and <a href=ftp://ftp.fnal.gov/pub/ftt>ftp://ftp.fnal.gov/pub/ftt</a>. In order to compile this library, you also need to get UPS from <a href=ftp://ftp.fnal.gov/pub/ups>ftp://ftp.fnal.gov/pub/ups</a>. I had only minor troubles compiling the tools, so things should go fairly smoothly if you have experience compiling programs.</p><p>Fermi Tape Tools Library has many good features. It is a C library (fast) that is cross platform (Linux, other Unixes, Windows NT, etc.). It includes a little documentation on Exabyte drives. It also works pretty good for me. I encourage use of the library.</p><h2 id=writing-software>Writing Software</h2><p>I found out that the library does not work with EBCDIC labels, so I had to <a href=ftt-patch.zip>patch</a> the source. Please note that the patch works with my version: v2.18 Linux+2. I also had to write software to dump the header, show a structure of the tape, and do other things. My <a href=tape-tools.tar.gz>old version</a> has separate programs for each task, and the archive includes the source as well as the statically compiled binaries. The <a href=tapetool.tar.gz>new version</a> is all combined into just one program, and you use different command-line options.</p><h2 id=labels>Labels</h2><p>If the tape is labeled, scanning the tape will say that there are a few blocks that contain 80 bytes, a tape mark, lots of big blocks of whatever size they want to be, another tape mark, and at least one more block at 80 bytes, then the tape is labeled. The 80-byte blocks at the beginning and end are the tape header and footer. You can find out more about tape labels at these fine pages:</p><ul><li><a href=http://www.loc.gov/marc/specifications/specexchtape1.html>http://www.loc.gov/marc/specifications/specexchtape1.html</a></li><li><a href=http://it-div-ds.web.cern.ch/it-div-ds/HO/labels.html>http://it-div-ds.web.cern.ch/it-div-ds/HO/labels.html</a></li></ul><h2 id=more-help>More Help</h2><p>Beyond what I wrote in this web page, I am not a good source of information. FTT comes with pretty good documentation, and the source for the simplistic tools that I wrote should get you off to a good start.</p></div></main></div></div></div><footer class="Bgc(barBackground) Bgc(t)--p Bdtw(1px) Bdc(barBorder) C(barText) C(black)--p P(10px) D(f) Fxd(c)--p Jc(sb)"><div class=Fz(0.8em)>&copy; Copyright 2023 Tyler Akins &lt;<a class="Td(n)--p C(barText) C(black)--p" href=mailto:fidian@rumkin.com>fidian@rumkin.com</a>&gt;, last build 2023-01-23T23:01:26.265Z</div><div><a class="D(n)--p Fz(0.8em) C(barText)" href=../../license/ >License</a> | <a class="D(n)--p Fz(0.8em) C(barText)" href=../../reference/site/legal/ >Legal</a> <a class="D(n) D(b)--p Td(n) Fz(0.8em)" href=../../license/ >Site content licensed under a MIT license with a non-advertising clause</a></div></footer></div></body></html>