<!DOCTYPE html><html lang=en class="H(100%) Ovy(h)"><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title></title><link rel=stylesheet href=../../css/reset.css?1664844534665><link rel=stylesheet href=../../css/atomic.css?1664844534665><link rel=stylesheet href=../../css/fonts.css?1664844534665><link rel=stylesheet href=../../css/site.css?1664844534665><link rel=apple-touch-icon sizes=180x180 href=../../img/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../img/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../img/favicon/favicon-16x16.png><link rel=manifest href=../../img/favicon/manifest.json><link rel=mask-icon href=../../img/favicon/safari-pinned-tab.svg color=#5bbad5><link rel="shortcut icon" href=../../img/favicon/favicon.ico><meta name=msapplication-config content=../../img/favicon/browserconfig.xml><meta name=theme-color content=#ffffff><link rel=license href=../../license><script async src="https://www.googletagmanager.com/gtag/js?id=G-H1S197ZSNH"></script><script>window.dataLayer = window.dataLayer || [];
function gtag() { dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'G-H1S197ZSNH');</script></head><body class="H(100%) Ovx(h) Bgc(pageBorderBackground) Bgc(t)--p"><div class="Maw(1002px) H(100%) W(100%) D(f) Fxd(c) Maw(100%)--p Mx(a) Mx(0)--p"><nav class="Bgc(barBackground) Bgc(t)--p Pos(a) Pos(s)--p T(0) Start(0) End(0) Bdbw(1px) Bdc(barBorder) H(50px) C(barText) C(black)--p Px(10px) Z(1)"><div class="W(100%) D(f) H(100%) Jc(sb) Ai(c) Ov(h)"><div class="D(f) Whs(nw) Ai(c) Fxs(1) Ov(h) Pend(12px)"><a class="C(barText) C(black)--p Fz(1.4em) Fw(b) Tov(e) Ov(h) Fxs(1) Td(n)--p Tov(e) D(b)" href=../../ >Rumkin.com </a><span class="Px(0.3em) Fxs(0)">&gt;</span> <a class="C(barText) C(black)--p Fz(1.4em) Fw(b) Tov(e) Ov(h) Fxs(0) Td(n)--p Tov(e) D(b)" href=../ >Reference Materials</a></div></div></nav><div class="Bgc(pageBackground) Bgc(t)--p Fxg(1)"><div class="Mt(50px) Mt(0)--p C(textColorNormal) P(10px)"><div class="Mx(a) W(100%) Maw(contentWidthMax) Maw(100%)--p D(f) Px(10px) Pstart(0)"><main class="D(tbc) Va(t) W(100%)"><header><h1></h1></header><div class=contents><html><head><title>Elonka's Vigenere Cipher</title><script><!--

var c_key, p_key, a_key, passphrase;
var Letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';


function upd() {
    var unchanged = 1;

    if (! IsUnchanged(document.encoder.c_key)) {
        unchanged = 0;
        c_key = MakeKeyedAlphabet(document.encoder.c_key.value);
        document.getElementById('c_key_show').innerHTML = c_key;
    }

    if (! IsUnchanged(document.encoder.a_key)) {
        unchanged = 0;
        a_key = MakeKeyedAlphabet(document.encoder.a_key.value);
        document.getElementById('a_key_show').innerHTML = a_key;
    }

    if (! IsUnchanged(document.encoder.p_key)) {
        unchanged = 0;
        p_key = MakeKeyedAlphabet(document.encoder.p_key.value);
        document.getElementById('p_key_show').innerHTML = p_key;
    }

    if (! unchanged) {
        MakeTableau();
    }

    if (unchanged * IsUnchanged(document.encoder.text) * IsUnchanged(document.encoder.pass) * IsUnchanged(document.encoder.encdec)) {
        setTimeout('upd()', 100);
        return;
    }

    if (document.encoder.text.value == '') {
        document.getElementById('output').innerHTML = 'Type away!';
    } else {
        document.getElementById('output').innerHTML = Encode(document.encoder.encdec.value * 1, document.encoder.text.value, document.encoder.pass.value);
    }

    setTimeout('upd()', 100);
}


function MakeKeyedAlphabet(key) {
    var out = '';

    if (typeof(key) != 'string')
        return Letters;

    key = key.toUpperCase() + Letters;

    for (var i = 0; i < key.length; i ++) {
        if (out.indexOf(key.charAt(i)) < 0 && Letters.indexOf(key.charAt(i)) >= 0) {
            out += key.charAt(i);
        }
    }

    return out;
}


function IsUnchanged(e) {
    var v = e.value;

    if (v != e.getAttribute('_oldValue')) {
        e.setAttribute('_oldValue', v);
        return 0;
    }

    return 1;
}


function MakeTableau() {
    var o = '<table border=1><tr><Td><tt class=tableau><b>&nbsp;';

    // Headings
    for (var i = 0; i < 26; i ++) {
        if (i % 4 == 3) {
            o += '<span class="hi">' + c_key.charAt(i) + '</span>';
        } else {
            o += c_key.charAt(i);
        }
    }

    o += '</b>';

    for (var row = 0; row < 26; row ++) {
        o += '<br>';

        if (row % 4 == 3) {
            o += '<span class="hi">';
        }

        o += '<b>' + p_key.charAt(row) + '</b>';

        for (var col = 0; col < 26; col ++) {
            if (col % 4 == 3) {
                o += '<span class="hi">';
            }

            o += a_key.charAt((col + row) % 26);

            if (col % 4 == 3) {
                o += '</span>';
            }
        }
        if (row % 4 == 3) {
            o += '</span>';
        }
    }

    o += '</tt></td></tr></table>';
    document.getElementById('tableau').innerHTML = o;
}


function Encode(encdec, text, pass) {
    var o = '';
    var enc_lett = 0;

    pass = pass.toUpperCase();

    for (var i = 0; i < pass.length; i ++) {
        if (Letters.indexOf(pass.charAt(i)) >= 0) {
            o += pass.charAt(i);
        }
    }

    pass = o;
    o = '';

    for (var i = 0; i < text.length; i ++) {
        var c = text.charAt(i).toUpperCase();

        if (c.charAt(0) >= 'A' && c.charAt(0) <= 'Z') {
            var idx = c_key.indexOf(pass.charAt(enc_lett % pass.length));
            if (encdec > 0) {
                idx = (idx + p_key.indexOf(c)) % 26;
                c = a_key.charAt(idx % 26);
            } else {
                idx = (a_key.indexOf(c) - idx + 26) % 26;
                c = p_key.charAt(idx);
            }
            enc_lett ++;
        }

        if (text.charAt(i) != text.charAt(i).toUpperCase()) {
            c = c.toLowerCase();
        }

        if (c == "\n") {
            o += "<br>";
        }

        o += c;
    }

    return o;
}


function fill_k1() {
    document.encoder.encdec.value = -1;
    document.encoder.c_key.value = "KRYPTOS";
    document.encoder.a_key.value = "KRYPTOS";
    document.encoder.p_key.value = "KRYPTOS";
    document.encoder.pass.value = "PALIMPSEST";
    document.encoder.text.value = "EMUFPHZLRFAXYUSDJKZLDKRNSHGNFIVJ\nYQTQUXQBQVYUVLLTREVJYQTMKYRDMFD";
}

function fill_k2() {
    document.encoder.encdec.value = -1;
    document.encoder.c_key.value = "KRYPTOS";
    document.encoder.a_key.value = "KRYPTOS";
    document.encoder.p_key.value = "KRYPTOS";
    document.encoder.pass.value = "ABSCISSA";
    document.encoder.text.value = "VFPJUDEEHZWETZYVGWHKKQETGFQJNCE\nGGWHKK?DQMCPFQZDQMMIAGPFXHQRLG\nTIMVMZJANQLVKQEDAGDVFRPJUNGEUNA\nQZGZLECGYUXUEENJTBJLBQCRTBJDFHRR\nYIZETKZEMVDUFKSJHKFWHKUWQLSZFTI\nHHDDDUVH?DWKBFUFPWNTDFIYCUQZERE\nEVLDKFEZMOQQJLTTUGSYQPFEUNLAVIDX\nFLGGTEZ?FKZBSFDQVGOGIPUFXHHDRKF\nFHQNTGPUAECNUVPDJMQCLQUMUNEDFQ\nELZZVRRGKFFVOEEXBDMVPNFQXEZLGRE\nDNQFMPNZGLFLPMRJQYALMGNUVPDXVKP\nDQUMEBEDMHDAFMJGZNUPLGEWJLLAETG"
}

function fill_k2b() {
    document.encoder.encdec.value = -1;
    document.encoder.c_key.value = "KRYPTOS";
    document.encoder.a_key.value = "KRYPTOS";
    document.encoder.p_key.value = "KRYPTOS";
    document.encoder.pass.value = "ABSCISSA";
    document.encoder.text.value = "VFPJUDEEHZWETZYVGWHKKQETGFQJNCE\nGGWHKK?DQMCPFQZDQMMIAGPFXHQRLG\nTIMVMZJANQLVKQEDAGDVFRPJUNGEUNA\nQZGZLECGYUXUEENJTBJLBQCRTBJDFHRR\nYIZETKZEMVDUFKSJHKFWHKUWQLSZFTI\nHHDDDUVH?DWKBFUFPWNTDFIYCUQZERE\nEVLDKFEZMOQQJLTTUGSYQPFEUNLAVIDX\nFLGGTEZ?FKZBSFDQVGOGIPUFXHHDRKF\nFHQNTGPUAECNUVPDJMQCLQUMUNEDFQ\nELZZVRRGKFFVOEEXBDMVPNFQXEZLGRE\nDNQFMPNZGLFLPMRJQYALMGNUVPDXVKP\nDQUMEBEDMHDAFMJGZNUPLGEsWJLLAETG"
}


function fill_k3() {
    document.encoder.text.value = "ENDYAHROHNLSRHEOCPTEOIBIDYSHNAIA\nCHTNREYULDSLLSLLNOHSNOSMRWXMNE\nTPRNGATIHNRARPESLNNELEBLPIIACAE\nWMTWNDITEENRAHCTENEUDRETNHAEOE\nTFOLSEDTIWENHAEIOYTEYQHEENCTAYCR\nEIFTBRSPAMHHEWENATAMATEGYEERLB\nTEEFOASFIOTUETUAEOTOARMAEERTNRTI\nBSEDDNIAAHTTMSTEWPIEROAGRIEWFEB\nAECTDDHILCEIHSITEGOEAOSDDRYDLORIT\nRKLMLEHAGTDHARDPNEOHMGFMFEUHE\nECDMRIPFEIMEHNLSSTTRTVDOHW";
}


function fill_k4() {
    document.encoder.text.value = "OBKR\nUOXOGHULBSOLIFBBWFLRVQQPRNGKSSO\nTWTQSJQSSEKZZWATJKLUDIAWINFBNYP\nVTTMZFPKWGDKZXTJCDIGKUHUAUEKCAR";
}


function fill_k4b() {
    document.encoder.text.value = "?OBKR\nUOXOGHULBSOLIFBBWFLRVQQPRNGKSSO\nTWTQSJQSSEKZZWATJKLUDIAWINFBNYP\nVTTMZFPKWGDKZXTJCDIGKUHUAUEKCAR";
}

function fill_wikipedia() {
    document.encoder.encdec = 1;
    document.encoder.c_key.value = '';
    document.encoder.a_key.value = '';
    document.encoder.p_key.value = '';
    document.encoder.pass.value = 'LEMON';
    document.encoder.text.value = 'ATTACKATDAWN';
}


// --></script><style type=text/css><!--

td {
   padding-left: 8px;
}

tt.tableau {
   font-family: courier-new, courier;
   letter-spacing: 0.5em;
}

.hi {
   background-color: yellow;
}

--></style></head><body bgcolor=#FFFFFF onload=upd()><h1 align=center>Elonka's Vigen&eacute;re Cipher</h1><form action="" onsubmit="return false" name=encoder><p><select name=encdec><option value=1>Encode</option><option value=-1>Decode</option></select></p><table border=0 cellpadding=0 cellspacing=0><tr><th align=right>Cipher Key:</th><td><input size=30 name=c_key value=KRYPTOS></td><td><span id=c_key_show></span></td></tr><tr><th align=right>Alphabet Key:</th><td><input size=30 name=a_key value=KRYPTOS></td><td><span id=a_key_show></span></td></tr><tr><th align=right>Plaintext Key:</th><td><input size=30 name=p_key value=KRYPTOS></td><td><span id=p_key_show></span></td></tr><tr><th align=right>Passphrase:</th><td><input size=30 name=pass></td><td>&nbsp;</td></tr></table><p><b>Tableau:</b> <span id=tableau style="float: right"></span></p><p><b>Message:</b><br><textarea name=text rows=5 cols=60>OBKR
UOXOGHULBSOLIFBBWFLRVQQPRNGKSSO
TWTQSJQSSEKZZWATJKLUDIAWINFBNYP
VTTMZFPKWGDKZXTJCDIGKUHUAUEKCAR</textarea></p><table border=1><tr><td><span id=output></span></td></tr></table><p><b>Preload:</b> <a href=# onclick="fill_k1(); return false">K1</a> <a href=# onclick="fill_k2(); return false">K2</a> <a href=# onclick="fill_k2b(); return false">K2b</a> <a href=# onclick="fill_k3(); return false">K3</a> <a href=# onclick="fill_k4(); return false">K4</a> <a href=# onclick="fill_k4b(); return false">K4?</a> <a href=# onclick="fill_wikipedia(); return false">Wikipedia</a></p><p>The cipher key will alter the alphabet on top. The alphabet key changes the tableau. The plaintext key changes the letters on the left.<br><b>Encoding method:</b> Look up the plaintext on the left, look up the letter of the passphrase on top. Find the tableau letter where they meet.<br><b>Decoding method:</b> Look up the letter of the passphrase on top, scan down to the encrypted letter, go left to the plaintext letter.</p><p>I was going to add a "spin" so you can change each row's spin, but then problems pop up if you have two rows that are identical. Using a plaintext key approaches the same result but avoids potential problems.</p></form></body></html></div></main></div></div></div><footer class="Bgc(barBackground) Bgc(t)--p Bdtw(1px) Bdc(barBorder) C(barText) C(black)--p P(10px) D(f) Fxd(c)--p Jc(sb)"><div class=Fz(0.8em)>&copy; Copyright 2022 Tyler Akins &lt;<a class="Td(n)--p C(barText) C(black)--p" href=mailto:fidian@rumkin.com>fidian@rumkin.com</a>&gt;, last build 2022-10-04T00:48:54.665Z</div><div><a class="D(n)--p Fz(0.8em) C(barText)" href=../../license/ >License</a> | <a class="D(n)--p Fz(0.8em) C(barText)" href=../../reference/site/legal/ >Legal</a> <a class="D(n) D(b)--p Td(n) Fz(0.8em)" href=../../license/ >Site content licensed under a MIT license with a non-advertising clause</a></div></footer></div></body></html>